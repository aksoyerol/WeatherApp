<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title> Weather App </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Weather App</ion-title>
    </ion-toolbar>
  </ion-header>

  <div>
    <div id="container" *ngIf="durum; else elseBlock">
      <ion-grid>
        <ion-row>
          <ion-col size="3"> </ion-col>
          <ion-col size="6">
            <div>
              <ion-input
                type="text"
                style="border: 2px solid black; border-radius: 10px"
                placeholder="City"
                [(ngModel)]="filterText"
              ></ion-input>
              <br />
              <ion-button color="success" (click)="getCurrent()"
                >Search</ion-button
              >
            </div>
          </ion-col>
          <ion-col size="3"></ion-col>
        </ion-row>
      </ion-grid>
    </div>
    <div id="container">
      <ng-template #elseBlock>
        <ion-card>
          <ion-card-header>
            <!-- <ion-card-subtitle>Card Subtitle</ion-card-subtitle> -->
            <ion-card-title
              >{{response.location.name}} /
              {{response.location.country}}</ion-card-title
            >
          </ion-card-header>

          <ion-card-content>
            <ion-row>
              <ion-col>
                <!-- resim -->
                <!-- <ion-img [src]=response.current.condition.icon></ion-img> -->
              </ion-col>
              <ion-col>
                <img src="{{response.current.condition.icon}}" alt="" />
              </ion-col>
              <ion-col></ion-col>
            </ion-row>

            <ion-row>
              <ion-col size="2"> </ion-col>
              <ion-col>
                <p style="text-align: center">
                  {{response.current.condition.text}}
                </p>
              </ion-col>
              <ion-col size="2"> </ion-col>
            </ion-row>

            <ion-row>
              <ion-col size="5"></ion-col>
              <p style="font-size: 16px; font-weight: bold">
                {{response.current.temp_c}} °C
              </p>
            </ion-row>
          </ion-card-content>
        </ion-card>

        <!-- orta kart -->
        <ion-card>
          <ion-row>
            <ion-col>
              <ul>
                <li>Feels Like : {{response.current.feelslike_c}} °C</li>
                <li>Clouds : {{response.current.cloud}} %</li>
                <li>Wind Speed : {{response.current.wind_kph}} kph</li>
                <li>
                  <h4>{{response.current.air_quality['gb-defra-index']}}</h4>
                </li>
              </ul>
            </ion-col>
            <ion-col></ion-col>
          </ion-row>
        </ion-card>

        <!-- Air Quality -->
        <ion-card [color]="color">
          <ion-card-header>
            <ion-card-subtitle>Air Quality</ion-card-subtitle>
          </ion-card-header>

          <ion-card-content>
          
            <p>{{response.current.air_quality['gb-defra-index']}}</p>
          </ion-card-content>
        </ion-card>

        <div></div>
      </ng-template>
    </div>
  </div>
</ion-content>
